% !TEX root = ../../main.tex

\begin{table*}[t!]
	\centering
	\caption{Mean and variance (over three training runs) recall@$k$ evaluation scores for the \ac{Flickr30k} and \ac{MS-COCO} datasets for image-to-text and text-to-image retrieval. 
		We train with two loss functions: $\infonce{}$ and $\ltd{}$. 
		We train either with (\checkmark) or without (\xmark) shortcuts. 
		For the model trained with $\ltd{}$, we provide the hyper-parameters of the best-performing model. $\eta$ indicates that the best-performing model uses LTD implemented as an optimization constraint with bound $\eta$. $\beta$ indicates that the best-performing model uses LTD implemented as a dual-loss with $\beta=1$.
		}
	\setlength{\tabcolsep}{1.5pt}
	\resizebox{\textwidth}{!}{%
	\begin{tabular}{@{\extracolsep{1pt}}l @{} c r@{$_\pm$}l r@{$_\pm$}l r@{$_\pm$}l r@{$_\pm$}l r@{$_\pm$}l r@{$_\pm$}l r@{$_\pm$}l}
		\toprule
		& & \multicolumn{6}{c}{\textit{i2t}} & \multicolumn{6}{c}{\textit{t2i}} & \multicolumn{2}{c}{ \ } \\
		\cmidrule(r){3-8} \cmidrule(r){9-14} \cmidrule{15-16}
		Loss & $\sct{}$ & \multicolumn{2}{c}{R@1}  & \multicolumn{2}{c}{R@5}  & \multicolumn{2}{c}{R@10} & \multicolumn{2}{c}{R@1}  & \multicolumn{2}{c}{R@5}  & \multicolumn{2}{c}{R@10}  & \multicolumn{2}{c}{rsum} \\ 
		\midrule
		\multicolumn{16}{c}{Flickr30k}\\
		\midrule
		& & \multicolumn{14}{c}{CLIP}                                                   \\
		\cmidrule{3-16}
		$\infonce{}$     &   \xmark &   ${86.9}$ & $_{0.1}$ & $\textbf{97.4}$ & $_{0.1}$ & $\textbf{99.0}$ & $_{0.0}$ & ${72.4}$ & $_{0.1}$ & $\textbf{92.1}$ & $_{0.0}$ & $\textbf{95.8}$ & $_{0.0}$ & ${543.5}$ & $_{1.1}$  \\
		$\ltd{}$, $\beta=1$ &  \xmark & ${86.5}$ & $_{0.6}$-- & ${97.1}$ & $_{0.0}\negative$ & ${98.5}$ & $_{0.0}\negative$& ${72.4}$ & $_{0.0}$-- & ${92.3}$ & $_{0.0}\negative$ & ${95.9}$ & $_{0.0}\negative$&  ${542.8}$ & $_{0.8}$--\\
		\cmidrule(r){3-16}
		$\infonce{}$  &  \checkmark  &  ${57.2}$ & $_{8.3}$ & ${84.0}$ & $_{4.8}$ & ${91.0}$ & $_{1.9}$ & ${44.9}$ & $_{4.5}$ & ${74.9}$ & $_{6.0}$ & ${84.2}$ & $_{2.5}$ & ${436.2}$ & $_{145.0}$  \\
		$\ltd{}$,  $\beta=1$ & \checkmark  & $\textbf{64.0}$ & $_{1.3}\positive$ & $\textbf{87.8}$ & $_{0.9}\positive$ & $\textbf{93.2}$ & $_{0.8}\positive$ & $\textbf{50.7}$ & $_{0.6}\positive$ & $\textbf{79.8}$ & $_{0.7}\positive$ & $\textbf{88.1}$ & $_{0.5}\positive$ & $\textbf{463.6}$ & $_{17.3}\positive$ \\
		\cmidrule{3-16}
		&  & \multicolumn{14}{c}{VSE++} \\
		\cmidrule{3-16}
		$\infonce{}$  & \xmark &  ${52.6}$ &$_{1.1}$ & ${79.8}$ & $_{0.1}$ & ${87.8}$ & $_{0.1}$ & ${39.5}$ & $_{0.3}$ & ${69.8}$ & $_{0.0}$ & ${79.4}$ & $_{0.1}$ & ${409.0}$ & $_{4.0}$\\
		$\ltd{}$, $\eta=0.2$ & \xmark & $\textbf{54.1}$ & $_{0.1}\positive$ & $\textbf{81.1}$ & $_{0.8}\positive$ & $\textbf{88.6}$ & $_{0.1}\positive$ & $\textbf{42.5}$ & $_{0.0}\positive$ & $\textbf{71.9}$ & $_{0.1}\positive$ & $\textbf{81.3}$ & $_{0.0}\positive$ & $\textbf{419.6}$ & $_{0.1}\positive$  \\
		\cmidrule(r){3-16}
		$\infonce{}$  &  \checkmark  &  ${0.1}$ & $_{0.0}$ & ${0.6}$ & $_{0.1}$ & ${1.1}$ & $_{0.1}$ & ${0.1}$ & $_{0.0}$ & ${0.5}$ & $_{0.0}$ & ${1.0}$ & $_{0.0}$ & ${3.4}$ & $_{0.6}$ \\
		$\ltd{}$, $\eta=0.05$ & \checkmark  &  $\textbf{24.7}$&$_{0.5}\positive$ & $\textbf{51.8}$ & $_{0.7}\positive$ & $\textbf{65.6}$ & $_{1.4}\positive$ & $\textbf{20.7}$ & $_{1.0}\positive$ & $\textbf{49.2}$ & $_{0.6}\positive$ & $\textbf{62.6}$ & $_{1.2}\positive$ & $\textbf{274.6}$ & $_{4.6}\positive$ \\
		\midrule
		\multicolumn{16}{c}{\ac{MS-COCO}}\\
		\midrule
		& & \multicolumn{14}{c}{CLIP}\\
		\cmidrule(r){3-16} 
		$\infonce{}$     &   \xmark & ${63.8}$ & $_{0.3}$ & ${86.1}$ & $_{0.2}$ & ${92.3}$ & $_{0.0}$ & ${46.3}$ & $_{0.3}$ & ${74.8}$ & $_{0.1}$ & ${84.1}$ & $_{0.2}$ & ${447.5}$ & $_{0.5}$  \\
		$\ltd{}$, $\beta=1$ &  \xmark & ${63.8}$ & $_{0.0}$-- & ${86.1}$ & $_{0.0}$-- & ${92.3}$ & $_{0.0}$-- & ${46.3}$ & $_{0.0}$-- & ${74.7}$ & $_{0.0}$-- & ${84.1}$ & $_{0.0}$-- & ${447.4}$ & $_{0.0}$-- \\
		\cmidrule(r){3-16}
		$\infonce{}$  &  \checkmark & ${13.6}$ & $_{0.9}$ & ${31.5}$ & $_{2.4}$& ${42.2}$ & $_{3.7}$ & ${\phantom{0}7.3}$ & $_{0.6}$ & ${22.1}$ & $_{1.0}$ & ${32.7}$ & $_{1.7}$ & ${149.4}$ & $_{32.7}$  \\
		$\ltd{}$, $\beta=1$ & \checkmark &  $\textbf{18.9}$ & $_{0.1}\positive$ & $\textbf{41.8}$ & $_{0.1}\positive$ & $\textbf{54.1}$ & $_{0.1}\positive$ & $\textbf{16.5}$ & $_{0.0}\positive$ & $\textbf{39.4}$ & $_{0.0}\positive$ & $\textbf{52.6}$ & $_{0.1}\positive$ & $\textbf{223.4}$ & $_{0.2}\positive$ \\
		\cmidrule{3-16} 
		&  & \multicolumn{14}{c}{VSE++} \\
		\cmidrule{3-16} 
		$\infonce{}$  & \xmark  & ${42.2}$ & $_{0.1}$ & ${72.7}$ & $_{0.1}$ & ${83.2}$ & $_{0.1}$ & ${30.9}$ & $_{0.0}$ & ${61.2}$ & $_{0.1}$& ${73.5}$ & $_{0.1}$ & ${363.8}$ & $_{2.3}$ \\
		$\ltd{}$, $\eta=0.1$ & \xmark & $\textbf{43.6}$ & $_{0.1}\positive$ & $\textbf{73.5}$ & $_{0.0}\positive$ & $\textbf{83.7}$ & $_{0.0}\positive$ & $\textbf{32.4}$ & $_{0.1}\positive$ & $\textbf{62.5}$ & $_{0.0}\positive$ & $\textbf{74.7}$ & $_{0.0}$ & $\textbf{370.5}$ & $_{0.1}\positive$   \\
		\cmidrule(r){3-16}
		$\infonce{}$    &  \checkmark & ${0.0}$ & $_{0.0}$ & ${0.1}$ & $_{0.0}$ & ${0.2}$ & $_{0.0}$ & ${\phantom{0}0.0}$ & $_{0.0}$ & ${\phantom{0}0.1}$ & $_{0.0}$ & ${\phantom{0}0.2}$ & $_{0.0}$ & ${\phantom{00}0.7}$ & $_{0.0}$ \\ 
		$\ltd{}$, $\eta=0.01$ & \checkmark & $\textbf{3.9}$ & $_{0.0}\positive$ & $\textbf{13.7}$ & $_{0.6}\positive$ & $\textbf{21.6}$ & $_{0.9}\positive$ & $\textbf{\phantom{0}3.1}$ & $_{0.2}\positive$ & $\textbf{11.0}$ & $_{1.6}\positive$ & $\textbf{18.1}$ & $_{3.0}\positive$ & $\textbf{\phantom{0}71.3}$ & $_{3.6}\positive$  \\
		\bottomrule
	\end{tabular}%
	}
\label{tab:ltd}
\end{table*}